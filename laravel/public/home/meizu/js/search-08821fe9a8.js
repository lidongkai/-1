!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="//store.res.meizu.com//search/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var i=e.slice(1),n=t[e[0]];return function(t,e,a){n.apply(this,[t,e,a].concat(i))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,i){i(1),i(8),i(9),i(10),i(17),i(21),i(23),i(56);var n=i(58);new n({speed:200,smartHeight:500})},function(t,e){},,,,,,,1,1,1,,,,,,,function(t,e,i){i(18),i(19);var n=i(20);n(function(){var t={init:function(){var t=n("#brand"),e=t.find(".doc").height(),i=t.find(".doc>div").height();n("img.lazy").lazyload({effect:"fadeIn",threshold:200}),i>e+5&&t.find(".doc").addClass("apostrophe")}};t.init()})},1,function(t,e,i){var n=i(20);!function(t,e,i,n){var a=t(e);t.fn.lazyload=function(s){function r(){var e=0;l.each(function(){var i=t(this);if(!c.skip_invisible||i.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else i.trigger("appear"),e=0})}var o,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return s&&(n!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),n!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),t.extend(c,s)),o=c.container===n||c.container===e?a:t(c.container),0===c.event.indexOf("scroll")&&o.bind(c.event,function(){return r()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,i.attr("src")!==n&&i.attr("src")!==!1||i.is("img")&&i.attr("src",c.placeholder),i.one("appear",function(){if(!this.loaded){if(c.appear){var n=l.length;c.appear.call(e,n,c)}t("<img />").bind("load",function(){var n=i.attr("data-"+c.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[c.effect](c.effect_speed),e.loaded=!0;var a=t.grep(l,function(t){return!t.loaded});if(l=t(a),c.load){var s=l.length;c.load.call(e,s,c)}}).attr("src",i.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&i.bind(c.event,function(){e.loaded||i.trigger("appear")})}),a.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){r()}),this},t.belowthefold=function(i,s){var r;return r=s.container===n||s.container===e?(e.innerHeight?e.innerHeight:a.height())+a.scrollTop():t(s.container).offset().top+t(s.container).height(),r<=t(i).offset().top-s.threshold},t.rightoffold=function(i,s){var r;return r=s.container===n||s.container===e?a.width()+a.scrollLeft():t(s.container).offset().left+t(s.container).width(),r<=t(i).offset().left-s.threshold},t.abovethetop=function(i,s){var r;return r=s.container===n||s.container===e?a.scrollTop():t(s.container).offset().top,r>=t(i).offset().top+s.threshold+t(i).height()},t.leftofbegin=function(i,s){var r;return r=s.container===n||s.container===e?a.scrollLeft():t(s.container).offset().left,r>=t(i).offset().left+s.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(n,window,document)},function(t,e){t.exports=meizuStoreGlobal.jquery},function(t,e,i){i(22)},1,function(t,e,i){i(24),i(29);var n=i(20),a=i(31);i(32);var s,r,o,l=i(36),c=i(37),d=i(38),u=i(49),h=i(50),p=i(51),f=i(52),m=i(53),v=i(54),g=i(55),b=window.MZ,y={cate:n("#slCategory"),prop:n("#slProp"),filter:n("#filter"),order:n("#J_filterOrder"),list:n("#goodsListWrap"),level:n("#crumbsLevel"),listCon:n("#goodsList"),pages:n("#pages"),empty:n("#empty"),recommend:n("#recommend"),brand:n("#brand"),brandList:n(".more-brands"),bottomAd:n(".list-floorad"),selector:n("#selector")};s=l.Model.extend({defaults:{cateMap:null,currentKey:"",activeCate:"",totalPage:0,pageNumber:1,pageSize:24,params:{categoryId:"",categories:"",features:"",sortName:"PRICE",sortDirection:1,onlyShowInStock:!1},levelRelation:[]}}),r=l.View.extend({events:{"click #crumbsLevel a":"crumbsCategory","click #J_filterOrder a":"setOrder","click #slCategory .mod-value a":"setCategory","click #slProp .mod-value a":"setProp","click .sl-e-more":"extMore","click #J_filterCondition .bs-checkbox":"setCondition","mouseover .mod-name a":"hoverTitle"},initialize:function(){var t=this;t.listenTo(t.model,"change:params",t.exectueQuery),t.listenTo(t.model,"change:pageNumber",t.pageChangeHandler),t.listenTo(t.model,"change:levelRelation",t.renderLevel),t.initFull(),t.pages(),n(window).on("load",function(){history.pushState&&setTimeout(function(){window.addEventListener("popstate",function(e){var i=e.state;i&&i.cateId?location.href=t.changeUrlByParam():location.reload()},!1)},200)})},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null},initFull:function(){var t=this,e=t.model,i=e.get("activeCate"),n=e.get("features"),a=e.get("cateMap"),s=a[i],r={categories:s.saleCategoryList.full.split(":")[1],features:n||{},sortName:"SYS",sortDirection:1,onlyShowInStock:!1,categoryId:this.getQueryString("categoryid")||73};e.set("params",r,{silent:!0}),t.syncLevel(i)},setOrder:function(t){t.preventDefault();var e=this,i=e.model,a=n.extend(!0,{},i.get("params")),s=["SYS","PUBLISHED_TIME","PRICE"],r=n(t.currentTarget),o=r.find("i"),l=r.data("tag");r.hasClass("active")?2===l&&o.hasClass("icon-arrow-down")?(o.removeClass("icon-arrow-down").addClass("icon-arrow-up"),a.sortDirection=1):2===l&&o.hasClass("icon-arrow-up")?(o.removeClass("icon-arrow-up").addClass("icon-arrow-down"),a.sortDirection=-1):a.sortDirection=-1:2===l&&o.hasClass("icon-arrow-up")?a.sortDirection=1:a.sortDirection=-1,a.sortName=s[l].toUpperCase(),i.set("params",a),r.hasClass("active")&&2!==l&&e.queryList(!1),r.addClass("active").siblings().removeClass("active")},setCategory:function(t){t.preventDefault();var e=this,i=e.model,a=n.extend(!0,{},i.get("params")),s=n(t.currentTarget),r=s.data("value"),o=r.split(":"),l=o[0],c=e.getActiveData(l),d=c.saleCatSpecial?c.saleCatSpecial.adShowTag:void 0,u=c.saleCatSpecial?c.saleCatSpecial.bottomShowType:void 0,h=c.saleCatSpecial?c.saleCatSpecial.recommendTag:void 0,p=c.saleCatSpecial?c.saleCatSpecial.filterTag:void 0,f=c.saleCatSpecial?c.saleCatSpecial.orderTag:void 0;a.categories=o[1],a.features={},a.categoryId=l,c&&c.parentId&&"全部"===c.saleCatName.toString()&&(l=c.parentId,a.categoryId=c.parentId,c=e.getActiveData(l)),i.set({currentKey:r,params:a,activeCate:l}),c&&e.syncLevel(l),l&&(e.renderCategory(c.saleCategoryList),e.renderProp(c.saleCatItemList)),void 0!==d?0==d?y.brand.hide():(y.brand.show(),e.renderBrandTop(c.saleCatSpecial)):y.brand.hide(),void 0!==u?0==u?(y.brandList.hide(),y.bottomAd.hide()):1==u?(y.brandList.show(),y.bottomAd.hide(),e.renderBrandList(c.saleCatSpecial.saleCatBottomPcAdList)):2==u&&(y.brandList.hide(),y.bottomAd.show(),e.renderBottomAd(c.saleCatSpecial.saleCatBottomPcAdList)):(y.brandList.hide(),y.bottomAd.hide()),void 0===h?y.recommend.show():0==h?y.recommend.hide():y.recommend.show(),void 0===p?y.selector.show():0==p?y.selector.hide():y.selector.show(),void 0===f?y.filter.show():0==f?y.filter.hide():y.filter.show()},syncLevel:function(t){var e,i=this,n=i.model,a=[];for(a.push(t),e=i.getActiveData(t);e&&e.parentId;)a.push(e.parentId),e=i.getActiveData(e.parentId);n.set("levelRelation",a)},pushHistory:function(){var t,e=this,i=e.model.get("activeCate"),n={cateId:i},a=e.changeUrlByParam(),s=e.getActiveData(i);t=s.saleCatName?s.saleCatName+" - 魅族官网在线商店":"魅族官网在线商店",document.title=t,window.history.pushState&&window.history.pushState(n,t,a)},changeUrlByParam:function(){var t=this,e=t.model,i=e.get("params"),a=e.get("activeCate"),s=location.href,r="",o="",l={},c=function(){var t="",e=[];return n.isEmptyObject(i.features)||(n.each(i.features,function(t,i){i&&e.push(t+":"+i)}),e.length&&(t+=e.join("-"))),t}();return a&&(l.categoryid=a),c&&(l.features=c),location.search&&(r=location.search.slice(1).replace(/categoryid=([^&]*)(&|$)/gi,""),r=r.replace(/features=([^&]*)(&|$)/gi,"")),n.param(l)&&r.length>1?o=n.param(l)+"&"+r:n.param(l)&&(o=n.param(l)),s=location.search&&location.search.match("[?]")?s.slice(0,location.href.indexOf("?")+1)+o:s+"?"+o},crumbsCategory:function(t){t.preventDefault();var e=this,i=e.model,a=n.extend(!0,{},i.get("params")),s=n(t.currentTarget).data("cateid"),r=e.getActiveData(s),o=r.saleCatSpecial?r.saleCatSpecial.adShowTag:void 0,l=r.saleCatSpecial?r.saleCatSpecial.bottomShowType:void 0,c=r.saleCatSpecial?r.saleCatSpecial.recommendTag:void 0,d=r.saleCatSpecial?r.saleCatSpecial.filterTag:void 0,u=r.saleCatSpecial?r.saleCatSpecial.orderTag:void 0;a.categories=r.saleCategoryList.full.split(":")[1],a.features={},a.categoryId=s,i.set({params:a,activeCate:s,currentKey:""}),r&&e.syncLevel(s),e.renderCategory(r.saleCategoryList),e.renderProp(r.saleCatItemList),void 0!==o?0==o?y.brand.hide():(y.brand.show(),e.renderBrandTop(r.saleCatSpecial)):y.brand.hide(),void 0!==l?0==l?(y.brandList.hide(),y.bottomAd.hide()):1==l?(y.brandList.show(),y.bottomAd.hide(),e.renderBrandList(r.saleCatSpecial.saleCatBottomPcAdList)):2==l&&(y.brandList.hide(),y.bottomAd.show(),e.renderBottomAd(r.saleCatSpecial.saleCatBottomPcAdList)):(y.brandList.hide(),y.bottomAd.hide()),void 0===c?y.recommend.show():0==c?y.recommend.hide():y.recommend.show(),void 0===d?y.selector.show():0==d?y.selector.hide():y.selector.show(),void 0===u?y.filter.show():0==u?y.filter.hide():y.filter.show()},setProp:function(t){t.preventDefault();var e=this,i=e.model,a=n.extend(!0,{},i.get("params")),s=n(t.currentTarget),r=s.parent(),o=s.data("value"),l=o.split(":");r.hasClass("vm-all")&&(l[1]=""),r.addClass("active").siblings().removeClass("active"),a.features||(a.features={}),a.features[l[0]]=l[1],i.set("params",a)},setCondition:function(t){var e=this,i=e.model,a=n.extend(!0,{},i.get("params")),s=n(t.currentTarget);s.hasClass("checked")?(s.removeClass("checked"),a.onlyShowInStock=!1):(s.addClass("checked"),a.onlyShowInStock=!0),i.set("params",a)},extMore:function(t){t.preventDefault();var e=n(t.currentTarget),i=e.parent().prev().find("ul");i.css("height","auto"),e.hasClass("opened")?(e.removeClass("opened"),i.css("height","36px")):(e.addClass("opened"),i.css("height","auto"))},getActiveData:function(t){return this.model.get("cateMap")[t]},renderCategory:function(t){var e=this,i=e.model.get("currentKey"),n=a.template(p);t.currentKey=i,y.cate.html(n({data:t}))},renderProp:function(t){var e=a.template(f);t=t.filter(function(t){return t.sub.length>0}),y.prop.html(e({items:t}))},renderList:function(t){var e=a.template(h);y.list.html(e({items:t}))},renderLevel:function(){var t=this,e=t.model,i=e.get("cateMap"),a=e.get("levelRelation").slice().reverse(),s="";n.isArray(a)&&a.length&&n.each(a,function(t,e){s+=i[e]&&t!==a.length-1?"全部商品"==i[e].saleCatName?'<a href="#" data-mtype="store_list_mbx_all" data-cateid="'+i[e].saleCatID+'">'+i[e].saleCatName+"</a>&nbsp;&gt;&nbsp;":'<a href="#" data-mtype="store_list_mbx_'+t+'" data-cateid="'+i[e].saleCatID+'">'+i[e].saleCatName+"</a>&nbsp;&gt;&nbsp;":i[e].saleCatName}),y.level.html(s)},renderBrandTop:function(t){var e=a.template(m);y.brand.empty(),y.brand.html(e({data:t}))},renderBrandList:function(t){var e=a.template(v);y.brandList.empty(),y.brandList.html(e({data:t}))},renderBottomAd:function(t){var e=a.template(g);y.bottomAd.empty(),y.bottomAd.html(e({data:t}))},paramParse:function(){var t=this,e=t.model,i=n.extend(!0,{},e.get("params")),a=[];return i.features&&n.each(i.features,function(t,e){e&&a.push(e)}),i.features=a.join("-"),i},exectueQuery:function(){var t=this;window.history.pushState?(t.paramQueryList(),t.pushHistory()):location.href=t.changeUrlByParam()},paramQueryList:function(){var t=this,e=t.model;e.set("pageNumber",1,{silent:!0}),t.queryList(!0)},pageChangeHandler:function(){var t=this;t.queryList(),n(document).scrollTop(n("#main").offset().top)},queryList:function(t){var e=this,i="",a=e.model,s=a.get("pageNumber"),r=a.get("pageSize"),l=e.paramParse();i=b.pageType?b.pageType+"&pageNumber="+s+"&pageSize="+r:"/pages/lists/search?pageNumber="+s+"&pageSize="+r,n.ajax({url:i,type:"post",data:l,dataType:"json"}).done(function(i){i.status&&i.data.content.length?(y.listCon.is(":hidden")&&(y.listCon.add(y.pages).add(y.filter).add(y.recommend).show(),y.empty.hide()),e.renderList(i.data.content),t===!0&&o.resetRender(1,i.data.totalPages),setTimeout(function(){u.init(),d.romanceList()},0)):(y.listCon.add(y.pages).add(y.filter).hide(),y.empty.show())}).fail(function(){})},pages:function(){var t=this,e=t.model,i=e.get("pageNumber"),n=e.get("totalPage");o=new c("#pages",{currentPage:i,totalPage:n,isAutoHide:!0,prevText:"",nextText:"",onSwitch:function(t){e.set("pageNumber",t)}})}}),new r({el:"#main",model:new s({cateMap:b.modelData.categoryMap,activeCate:b.modelData.active,totalPage:b.modelData.totalPage,features:b.modelData.features})}),d.bindEvent()},1,,,,,1,,function(t,e){t.exports=meizuStoreGlobal.underscore},function(t,e,i){(function(t){var e=$=i(20);!function(e){var i=!0;e.flexslider=function(n,a){var s=e(n);s.vars=e.extend({},e.flexslider.defaults,a);var r,o=s.vars.namespace,l=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,c=("ontouchstart"in window||l||window.DocumentTouch&&document instanceof DocumentTouch)&&s.vars.touch,d="click touchend MSPointerUp keyup",u="",h="vertical"===s.vars.direction,p=s.vars.reverse,f=s.vars.itemWidth>0,m="fade"===s.vars.animation,v=""!==s.vars.asNavFor,g={};e.data(n,"flexslider",s),g={init:function(){s.animating=!1,s.currentSlide=parseInt(s.vars.startAt?s.vars.startAt:0,10),isNaN(s.currentSlide)&&(s.currentSlide=0),s.animatingTo=s.currentSlide,s.atEnd=0===s.currentSlide||s.currentSlide===s.last,s.containerSelector=s.vars.selector.substr(0,s.vars.selector.search(" ")),s.slides=e(s.vars.selector,s),s.container=e(s.containerSelector,s),s.count=s.slides.length,s.syncExists=e(s.vars.sync).length>0,"slide"===s.vars.animation&&(s.vars.animation="swing"),s.prop=h?"top":"marginLeft",s.args={},s.manualPause=!1,s.stopped=!1,s.started=!1,s.startTimeout=null,s.transitions=!s.vars.video&&!m&&s.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return s.pfx=e[i].replace("Perspective","").toLowerCase(),s.prop="-"+s.pfx+"-transform",!0;return!1}(),s.ensureAnimationEnd="",""!==s.vars.controlsContainer&&(s.controlsContainer=e(s.vars.controlsContainer).length>0&&e(s.vars.controlsContainer)),""!==s.vars.manualControls&&(s.manualControls=e(s.vars.manualControls).length>0&&e(s.vars.manualControls)),""!==s.vars.customDirectionNav&&(s.customDirectionNav=2===e(s.vars.customDirectionNav).length&&e(s.vars.customDirectionNav)),s.vars.randomize&&(s.slides.sort(function(){return Math.round(Math.random())-.5}),s.container.empty().append(s.slides)),s.doMath(),s.setup("init"),s.vars.controlNav&&g.controlNav.setup(),s.vars.directionNav&&g.directionNav.setup(),s.vars.keyboard&&(1===e(s.containerSelector).length||s.vars.multipleKeyboard)&&e(document).bind("keyup",function(t){var e=t.keyCode;if(!s.animating&&(39===e||37===e)){var i=39===e?s.getTarget("next"):37===e&&s.getTarget("prev");s.flexAnimate(i,s.vars.pauseOnAction)}}),s.vars.mousewheel&&s.bind("mousewheel",function(t,e,i,n){t.preventDefault();var a=e<0?s.getTarget("next"):s.getTarget("prev");s.flexAnimate(a,s.vars.pauseOnAction)}),s.vars.pausePlay&&g.pausePlay.setup(),s.vars.slideshow&&s.vars.pauseInvisible&&g.pauseInvisible.init(),s.vars.slideshow&&(s.vars.pauseOnHover&&s.hover(function(){s.manualPlay||s.manualPause||s.pause()},function(){s.manualPause||s.manualPlay||s.stopped||s.play()}),s.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(s.vars.initDelay>0?s.startTimeout=setTimeout(s.play,s.vars.initDelay):s.play())),v&&g.asNav.setup(),c&&s.vars.touch&&g.touch(),(!m||m&&s.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",g.resize),s.find("img").attr("draggable","false"),setTimeout(function(){s.vars.start(s)},200)},asNav:{setup:function(){s.asNav=!0,s.animatingTo=Math.floor(s.currentSlide/s.move),s.currentItem=s.currentSlide,s.slides.removeClass(o+"active-slide").eq(s.currentItem).addClass(o+"active-slide"),l?(n._slider=s,s.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var i=e(this),n=i.index();e(s.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(s.direction=s.currentItem<n?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction,!1,!0,!0))})})):s.slides.on(d,function(t){t.preventDefault();var i=e(this),n=i.index(),a=i.offset().left-e(s).scrollLeft();a<=0&&i.hasClass(o+"active-slide")?s.flexAnimate(s.getTarget("prev"),!0):e(s.vars.asNavFor).data("flexslider").animating||i.hasClass(o+"active-slide")||(s.direction=s.currentItem<n?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){s.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,i,n="thumbnails"===s.vars.controlNav?"control-thumbs":"control-paging",a=1;if(s.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+n+'"></ol>'),s.pagingCount>1)for(var r=0;r<s.pagingCount;r++){if(i=s.slides.eq(r),void 0===i.attr("data-thumb-alt")&&i.attr("data-thumb-alt",""),altText=""!==i.attr("data-thumb-alt")?altText=' alt="'+i.attr("data-thumb-alt")+'"':"",t="thumbnails"===s.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+a+"</a>","thumbnails"===s.vars.controlNav&&!0===s.vars.thumbCaptions){var l=i.attr("data-thumbcaption");""!==l&&void 0!==l&&(t+='<span class="'+o+'caption">'+l+"</span>")}s.controlNavScaffold.append("<li>"+t+"</li>"),a++}s.controlsContainer?e(s.controlsContainer).append(s.controlNavScaffold):s.append(s.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),s.controlNavScaffold.delegate("a, img",d,function(t){if(t.preventDefault(),""===u||u===t.type){var i=e(this),n=s.controlNav.index(i);i.hasClass(o+"active")||(s.direction=n>s.currentSlide?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction))}""===u&&(u=t.type),g.setToClearWatchedEvent()})},setupManual:function(){s.controlNav=s.manualControls,g.controlNav.active(),s.controlNav.bind(d,function(t){if(t.preventDefault(),""===u||u===t.type){var i=e(this),n=s.controlNav.index(i);i.hasClass(o+"active")||(n>s.currentSlide?s.direction="next":s.direction="prev",s.flexAnimate(n,s.vars.pauseOnAction))}""===u&&(u=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===s.vars.controlNav?"img":"a";s.controlNav=e("."+o+"control-nav li "+t,s.controlsContainer?s.controlsContainer:s)},active:function(){s.controlNav.removeClass(o+"active").eq(s.animatingTo).addClass(o+"active")},update:function(t,i){s.pagingCount>1&&"add"===t?s.controlNavScaffold.append(e('<li><a href="#">'+s.count+"</a></li>")):1===s.pagingCount?s.controlNavScaffold.find("li").remove():s.controlNav.eq(i).closest("li").remove(),g.controlNav.set(),s.pagingCount>1&&s.pagingCount!==s.controlNav.length?s.update(i,t):g.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+s.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+s.vars.nextText+"</a></li></ul>");s.customDirectionNav?s.directionNav=s.customDirectionNav:s.controlsContainer?(e(s.controlsContainer).append(t),s.directionNav=e("."+o+"direction-nav li a",s.controlsContainer)):(s.append(t),s.directionNav=e("."+o+"direction-nav li a",s)),g.directionNav.update(),s.directionNav.bind(d,function(t){t.preventDefault();var i;e(this).hasClass(o+"disabled")||""!==u&&u!==t.type||(i=e(this).hasClass(o+"next")?s.getTarget("next"):s.getTarget("prev"),s.flexAnimate(i,s.vars.pauseOnAction)),""===u&&(u=t.type),g.setToClearWatchedEvent()})},update:function(){var t=o+"disabled";1===s.pagingCount?s.directionNav.addClass(t).attr("tabindex","-1"):s.vars.animationLoop?s.directionNav.removeClass(t).removeAttr("tabindex"):0===s.animatingTo?s.directionNav.removeClass(t).filter("."+o+"prev").addClass(t).attr("tabindex","-1"):s.animatingTo===s.last?s.directionNav.removeClass(t).filter("."+o+"next").addClass(t).attr("tabindex","-1"):s.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a href="#"></a></div>');s.controlsContainer?(s.controlsContainer.append(t),s.pausePlay=e("."+o+"pauseplay a",s.controlsContainer)):(s.append(t),s.pausePlay=e("."+o+"pauseplay a",s)),g.pausePlay.update(s.vars.slideshow?o+"pause":o+"play"),s.pausePlay.bind(d,function(t){t.preventDefault(),""!==u&&u!==t.type||(e(this).hasClass(o+"pause")?(s.manualPause=!0,s.manualPlay=!1,s.pause()):(s.manualPause=!1,s.manualPlay=!0,s.play())),""===u&&(u=t.type),g.setToClearWatchedEvent()})},update:function(t){"play"===t?s.pausePlay.removeClass(o+"pause").addClass(o+"play").html(s.vars.playText):s.pausePlay.removeClass(o+"play").addClass(o+"pause").html(s.vars.pauseText)}},touch:function(){function e(t){t.stopPropagation(),s.animating?t.preventDefault():(s.pause(),n._gesture.addPointer(t.pointerId),C=0,d=h?s.h:s.w,v=Number(new Date),c=f&&p&&s.animatingTo===s.last?0:f&&p?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:f&&s.currentSlide===s.last?s.limit:f?(s.itemW+s.vars.itemMargin)*s.move*s.currentSlide:p?(s.last-s.currentSlide+s.cloneOffset)*d:(s.currentSlide+s.cloneOffset)*d)}function i(e){e.stopPropagation();var i=e.target._slider;if(i){var a=-e.translationX,s=-e.translationY;return C+=h?s:a,u=C,_=h?Math.abs(C)<Math.abs(-a):Math.abs(C)<Math.abs(-s),e.detail===e.MSGESTURE_FLAG_INERTIA?void t(function(){n._gesture.stop()}):void((!_||Number(new Date)-v>500)&&(e.preventDefault(),!m&&i.transitions&&(i.vars.animationLoop||(u=C/(0===i.currentSlide&&C<0||i.currentSlide===i.last&&C>0?Math.abs(C)/d+2:1)),i.setProps(c+u,"setTouch"))))}}function a(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!_&&null!==u){var i=p?-u:u,n=i>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(n)&&(Number(new Date)-v<550&&Math.abs(i)>50||Math.abs(i)>d/2)?e.flexAnimate(n,e.vars.pauseOnAction):m||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}r=null,o=null,u=null,c=null,C=0}}var r,o,c,d,u,v,g,b,y,_=!1,w=0,x=0,C=0;l?(n.style.msTouchAction="none",n._gesture=new MSGesture,n._gesture.target=n,n.addEventListener("MSPointerDown",e,!1),n._slider=s,n.addEventListener("MSGestureChange",i,!1),n.addEventListener("MSGestureEnd",a,!1)):(g=function(t){s.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(s.pause(),d=h?s.h:s.w,v=Number(new Date),w=t.touches[0].pageX,x=t.touches[0].pageY,c=f&&p&&s.animatingTo===s.last?0:f&&p?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:f&&s.currentSlide===s.last?s.limit:f?(s.itemW+s.vars.itemMargin)*s.move*s.currentSlide:p?(s.last-s.currentSlide+s.cloneOffset)*d:(s.currentSlide+s.cloneOffset)*d,r=h?x:w,o=h?w:x,n.addEventListener("touchmove",b,!1),n.addEventListener("touchend",y,!1))},b=function(t){w=t.touches[0].pageX,x=t.touches[0].pageY,u=h?r-x:r-w,_=h?Math.abs(u)<Math.abs(w-o):Math.abs(u)<Math.abs(x-o);var e=500;(!_||Number(new Date)-v>e)&&(t.preventDefault(),!m&&s.transitions&&(s.vars.animationLoop||(u/=0===s.currentSlide&&u<0||s.currentSlide===s.last&&u>0?Math.abs(u)/d+2:1),s.setProps(c+u,"setTouch")))},y=function(t){if(n.removeEventListener("touchmove",b,!1),s.animatingTo===s.currentSlide&&!_&&null!==u){var e=p?-u:u,i=e>0?s.getTarget("next"):s.getTarget("prev");s.canAdvance(i)&&(Number(new Date)-v<550&&Math.abs(e)>50||Math.abs(e)>d/2)?s.flexAnimate(i,s.vars.pauseOnAction):m||s.flexAnimate(s.currentSlide,s.vars.pauseOnAction,!0)}n.removeEventListener("touchend",y,!1),r=null,o=null,u=null,c=null},n.addEventListener("touchstart",g,!1))},resize:function(){!s.animating&&s.is(":visible")&&(f||s.doMath(),m?g.smoothHeight():f?(s.slides.width(s.computedW),s.update(s.pagingCount),s.setProps()):h?(s.viewport.height(s.h),s.setProps(s.h,"setTotal")):(s.vars.smoothHeight&&g.smoothHeight(),s.newSlides.width(s.computedW),s.setProps(s.computedW,"setTotal")))},smoothHeight:function(t){if(!h||m){var e=m?s:s.viewport;t?e.animate({height:s.slides.eq(s.animatingTo).height()},t):e.height(s.slides.eq(s.animatingTo).height())}},sync:function(t){var i=e(s.vars.sync).data("flexslider"),n=s.animatingTo;switch(t){case"animate":i.flexAnimate(n,s.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var t=g.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){g.pauseInvisible.isHidden()?s.startTimeout?clearTimeout(s.startTimeout):s.pause():s.started?s.play():s.vars.initDelay>0?setTimeout(s.play,s.vars.initDelay):s.play()})}},isHidden:function(){var t=g.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(r),r=setTimeout(function(){u=""},3e3)}},s.flexAnimate=function(t,i,n,a,r){if(s.vars.animationLoop||t===s.currentSlide||(s.direction=t>s.currentSlide?"next":"prev"),v&&1===s.pagingCount&&(s.direction=s.currentItem<t?"next":"prev"),!s.animating&&(s.canAdvance(t,r)||n)&&s.is(":visible")){if(v&&a){var l=e(s.vars.asNavFor).data("flexslider");if(s.atEnd=0===t||t===s.count-1,l.flexAnimate(t,!0,!1,!0,r),s.direction=s.currentItem<t?"next":"prev",l.direction=s.direction,Math.ceil((t+1)/s.visible)-1===s.currentSlide||0===t)return s.currentItem=t,s.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;s.currentItem=t,s.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/s.visible)}if(s.animating=!0,s.animatingTo=t,i&&s.pause(),s.vars.before(s),s.syncExists&&!r&&g.sync("animate"),s.vars.controlNav&&g.controlNav.active(),f||s.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),s.atEnd=0===t||t===s.last,s.vars.directionNav&&g.directionNav.update(),t===s.last&&(s.vars.end(s),s.vars.animationLoop||s.pause()),m)c?(s.slides.eq(s.currentSlide).css({opacity:0,zIndex:1}),s.slides.eq(t).css({opacity:1,zIndex:2}),s.wrapup(y)):(s.slides.eq(s.currentSlide).css({zIndex:1}).animate({opacity:0},s.vars.animationSpeed,s.vars.easing),s.slides.eq(t).css({zIndex:2}).animate({opacity:1},s.vars.animationSpeed,s.vars.easing,s.wrapup));else{var d,u,b,y=h?s.slides.filter(":first").height():s.computedW;f?(d=s.vars.itemMargin,b=(s.itemW+d)*s.move*s.animatingTo,u=b>s.limit&&1!==s.visible?s.limit:b):u=0===s.currentSlide&&t===s.count-1&&s.vars.animationLoop&&"next"!==s.direction?p?(s.count+s.cloneOffset)*y:0:s.currentSlide===s.last&&0===t&&s.vars.animationLoop&&"prev"!==s.direction?p?0:(s.count+1)*y:p?(s.count-1-t+s.cloneOffset)*y:(t+s.cloneOffset)*y,s.setProps(u,"",s.vars.animationSpeed),s.transitions?(s.vars.animationLoop&&s.atEnd||(s.animating=!1,s.currentSlide=s.animatingTo),s.container.unbind("webkitTransitionEnd transitionend"),s.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(s.ensureAnimationEnd),s.wrapup(y)}),clearTimeout(s.ensureAnimationEnd),s.ensureAnimationEnd=setTimeout(function(){s.wrapup(y)},s.vars.animationSpeed+100)):s.container.animate(s.args,s.vars.animationSpeed,s.vars.easing,function(){s.wrapup(y)})}s.vars.smoothHeight&&g.smoothHeight(s.vars.animationSpeed)}},s.wrapup=function(t){m||f||(0===s.currentSlide&&s.animatingTo===s.last&&s.vars.animationLoop?s.setProps(t,"jumpEnd"):s.currentSlide===s.last&&0===s.animatingTo&&s.vars.animationLoop&&s.setProps(t,"jumpStart")),s.animating=!1,s.currentSlide=s.animatingTo,s.vars.after(s)},s.animateSlides=function(){!s.animating&&i&&s.flexAnimate(s.getTarget("next"))},s.pause=function(){clearInterval(s.animatedSlides),s.animatedSlides=null,s.playing=!1,s.vars.pausePlay&&g.pausePlay.update("play"),s.syncExists&&g.sync("pause")},s.play=function(){s.playing&&clearInterval(s.animatedSlides),s.animatedSlides=s.animatedSlides||setInterval(s.animateSlides,s.vars.slideshowSpeed),s.started=s.playing=!0,s.vars.pausePlay&&g.pausePlay.update("pause"),s.syncExists&&g.sync("play")},s.stop=function(){s.pause(),s.stopped=!0},s.canAdvance=function(t,e){var i=v?s.pagingCount-1:s.last;return!!e||(!(!v||s.currentItem!==s.count-1||0!==t||"prev"!==s.direction)||(!v||0!==s.currentItem||t!==s.pagingCount-1||"next"===s.direction)&&(!(t===s.currentSlide&&!v)&&(!!s.vars.animationLoop||(!s.atEnd||0!==s.currentSlide||t!==i||"next"===s.direction)&&(!s.atEnd||s.currentSlide!==i||0!==t||"next"!==s.direction))))},s.getTarget=function(t){return s.direction=t,"next"===t?s.currentSlide===s.last?0:s.currentSlide+1:0===s.currentSlide?s.last:s.currentSlide-1},s.setProps=function(t,e,i){var n=function(){var i=t?t:(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo,n=function(){if(f)return"setTouch"===e?t:p&&s.animatingTo===s.last?0:p?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:s.animatingTo===s.last?s.limit:i;switch(e){case"setTotal":return p?(s.count-1-s.currentSlide+s.cloneOffset)*t:(s.currentSlide+s.cloneOffset)*t;case"setTouch":return p?t:t;case"jumpEnd":return p?t:s.count*t;case"jumpStart":return p?s.count*t:t;default:return t}}();return n*-1+"px"}();s.transitions&&(n=h?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",i=void 0!==i?i/1e3+"s":"0s",s.container.css("-"+s.pfx+"-transition-duration",i),s.container.css("transition-duration",i)),s.args[s.prop]=n,(s.transitions||void 0===i)&&s.container.css(s.args),s.container.css("transform",n)},s.setup=function(t){if(m)s.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(c?s.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+s.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(s.currentSlide).css({opacity:1,zIndex:2}):0==s.vars.fadeFirstSlide?s.slides.css({opacity:0,display:"block",zIndex:1}).eq(s.currentSlide).css({zIndex:2}).css({opacity:1}):s.slides.css({opacity:0,display:"block",zIndex:1}).eq(s.currentSlide).css({zIndex:2}).animate({opacity:1},s.vars.animationSpeed,s.vars.easing)),s.vars.smoothHeight&&g.smoothHeight();else{var i,n;"init"===t&&(s.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(s).append(s.container),s.cloneCount=0,s.cloneOffset=0,p&&(n=e.makeArray(s.slides).reverse(),s.slides=e(n),s.container.empty().append(s.slides))),
s.vars.animationLoop&&!f&&(s.cloneCount=2,s.cloneOffset=1,"init"!==t&&s.container.find(".clone").remove(),s.container.append(g.uniqueID(s.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(s.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),s.newSlides=e(s.vars.selector,s),i=p?s.count-1-s.currentSlide+s.cloneOffset:s.currentSlide+s.cloneOffset,h&&!f?(s.container.height(200*(s.count+s.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){s.newSlides.css({display:"block"}),s.doMath(),s.viewport.height(s.h),s.setProps(i*s.h,"init")},"init"===t?100:0)):(s.container.width(200*(s.count+s.cloneCount)+"%"),s.setProps(i*s.computedW,"init"),setTimeout(function(){s.doMath(),s.newSlides.css({width:s.computedW,marginRight:s.computedM,"float":"left",display:"block"}),s.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0))}f||s.slides.removeClass(o+"active-slide").eq(s.currentSlide).addClass(o+"active-slide"),s.vars.init(s)},s.doMath=function(){var t=s.slides.first(),e=s.vars.itemMargin,i=s.vars.minItems,n=s.vars.maxItems;s.w=void 0===s.viewport?s.width():s.viewport.width(),s.h=t.height(),s.boxPadding=t.outerWidth()-t.width(),f?(s.itemT=s.vars.itemWidth+e,s.itemM=e,s.minW=i?i*s.itemT:s.w,s.maxW=n?n*s.itemT-e:s.w,s.itemW=s.minW>s.w?(s.w-e*(i-1))/i:s.maxW<s.w?(s.w-e*(n-1))/n:s.vars.itemWidth>s.w?s.w:s.vars.itemWidth,s.visible=Math.floor(s.w/s.itemW),s.move=s.vars.move>0&&s.vars.move<s.visible?s.vars.move:s.visible,s.pagingCount=Math.ceil((s.count-s.visible)/s.move+1),s.last=s.pagingCount-1,s.limit=1===s.pagingCount?0:s.vars.itemWidth>s.w?s.itemW*(s.count-1)+e*(s.count-1):(s.itemW+e)*s.count-s.w-e):(s.itemW=s.w,s.itemM=e,s.pagingCount=s.count,s.last=s.count-1),s.computedW=s.itemW-s.boxPadding,s.computedM=s.itemM},s.update=function(t,e){s.doMath(),f||(t<s.currentSlide?s.currentSlide+=1:t<=s.currentSlide&&0!==t&&(s.currentSlide-=1),s.animatingTo=s.currentSlide),s.vars.controlNav&&!s.manualControls&&("add"===e&&!f||s.pagingCount>s.controlNav.length?g.controlNav.update("add"):("remove"===e&&!f||s.pagingCount<s.controlNav.length)&&(f&&s.currentSlide>s.last&&(s.currentSlide-=1,s.animatingTo-=1),g.controlNav.update("remove",s.last))),s.vars.directionNav&&g.directionNav.update()},s.addSlide=function(t,i){var n=e(t);s.count+=1,s.last=s.count-1,h&&p?void 0!==i?s.slides.eq(s.count-i).after(n):s.container.prepend(n):void 0!==i?s.slides.eq(i).before(n):s.container.append(n),s.update(i,"add"),s.slides=e(s.vars.selector+":not(.clone)",s),s.setup(),s.vars.added(s)},s.removeSlide=function(t){var i=isNaN(t)?s.slides.index(e(t)):t;s.count-=1,s.last=s.count-1,isNaN(t)?e(t,s.slides).remove():h&&p?s.slides.eq(s.last).remove():s.slides.eq(t).remove(),s.doMath(),s.update(i,"remove"),s.slides=e(s.vars.selector+":not(.clone)",s),s.setup(),s.vars.removed(s)},g.init()},e(window).blur(function(t){i=!1}).focus(function(t){i=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this),n=t.selector?t.selector:".slides > li",a=i.find(n);1===a.length&&t.allowOneSlide===!0||0===a.length?(a.fadeIn(400),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}}(e)}).call(e,i(33).setImmediate)},function(t,e,i){function n(t,e){this._id=t,this._clearFn=e}var a=Function.prototype.apply;e.setTimeout=function(){return new n(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(34),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,i){(function(t,e){!function(t,i){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return m[f]=n,p(f),f++}function a(t){delete m[t]}function s(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}function r(t){if(v)setTimeout(r,0,t);else{var e=m[t];if(e){v=!0;try{s(e)}finally{a(t),v=!1}}}}function o(){p=function(t){e.nextTick(function(){r(t)})}}function l(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function c(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&r(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),p=function(i){t.postMessage(e+i,"*")}}function d(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;r(e)},p=function(e){t.port2.postMessage(e)}}function u(){var t=g.documentElement;p=function(e){var i=g.createElement("script");i.onreadystatechange=function(){r(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function h(){p=function(t){setTimeout(r,0,t)}}if(!t.setImmediate){var p,f=1,m={},v=!1,g=t.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(t);b=b&&b.setTimeout?b:t,"[object process]"==={}.toString.call(t.process)?o():l()?c():t.MessageChannel?d():g&&"onreadystatechange"in g.createElement("script")?u():h(),b.setImmediate=n,b.clearImmediate=a}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),i(35))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(t){if(d===setTimeout)return setTimeout(t,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function s(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function r(){m&&p&&(m=!1,p.length?f=p.concat(f):v=-1,f.length&&o())}function o(){if(!m){var t=a(r);m=!0;for(var e=f.length;e;){for(p=f,f=[];++v<e;)p&&p[v].run();v=-1,e=f.length}p=null,m=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var d,u,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(t){d=i}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var p,f=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new l(t,e)),1!==f.length||m||a(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,i){var n,a;(function(s){!function(r){var o="object"==typeof self&&self.self===self&&self||"object"==typeof s&&s.global===s&&s;n=[i(31),i(20),e],a=function(t,e,i){o.Backbone=r(o,i,t,e)}.apply(e,n),!(void 0!==a&&(t.exports=a))}(function(t,e,i,n){var a=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=a,this},e.emulateHTTP=!1,e.emulateJSON=!1;var r=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,a){return i[e](this[n],l(t,this),a)};case 4:return function(t,a,s){return i[e](this[n],l(t,this),a,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,a){i[a]&&(t.prototype[a]=r(e,a,n))})},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?c(t):i.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},d=e.Events={},u=/\s+/,h=function(t,e,n,a,s){var r,o=0;if(n&&"object"==typeof n){void 0!==a&&"context"in s&&void 0===s.context&&(s.context=a);for(r=i.keys(n);o<r.length;o++)e=h(t,e,r[o],n[r[o]],s)}else if(n&&u.test(n))for(r=n.split(u);o<r.length;o++)e=t(e,r[o],a,s);else e=t(e,n,a,s);return e};d.on=function(t,e,i){return p(this,t,e,i)};var p=function(t,e,i,n,a){if(t._events=h(f,t._events||{},e,i,{context:n,ctx:t,listening:a}),a){var s=t._listeners||(t._listeners={});s[a.id]=a}return t};d.listenTo=function(t,e,n){if(!t)return this;var a=t._listenId||(t._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),r=s[a];if(!r){var o=this._listenId||(this._listenId=i.uniqueId("l"));r=s[a]={obj:t,objId:a,id:o,listeningTo:s,count:0}}return p(t,e,n,this,r),this};var f=function(t,e,i,n){if(i){var a=t[e]||(t[e]=[]),s=n.context,r=n.ctx,o=n.listening;o&&o.count++,a.push({callback:i,context:s,ctx:s||r,listening:o})}return t};d.off=function(t,e,i){return this._events?(this._events=h(m,this._events,t,e,{context:i,listeners:this._listeners}),this):this},d.stopListening=function(t,e,n){var a=this._listeningTo;if(!a)return this;for(var s=t?[t._listenId]:i.keys(a),r=0;r<s.length;r++){var o=a[s[r]];if(!o)break;o.obj.off(e,n,this)}return this};var m=function(t,e,n,a){if(t){var s,r=0,o=a.context,l=a.listeners;if(e||n||o){for(var c=e?[e]:i.keys(t);r<c.length;r++){e=c[r];var d=t[e];if(!d)break;for(var u=[],h=0;h<d.length;h++){var p=d[h];n&&n!==p.callback&&n!==p.callback._callback||o&&o!==p.context?u.push(p):(s=p.listening,s&&0===--s.count&&(delete l[s.id],delete s.listeningTo[s.objId]))}u.length?t[e]=u:delete t[e]}return t}for(var f=i.keys(l);r<f.length;r++)s=l[f[r]],delete l[s.id],delete s.listeningTo[s.objId]}};d.once=function(t,e,n){var a=h(v,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(a,e,n)},d.listenToOnce=function(t,e,n){var a=h(v,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,a)};var v=function(t,e,n,a){if(n){var s=t[e]=i.once(function(){a(e,s),n.apply(this,arguments)});s._callback=n}return t};d.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return h(g,this._events,t,void 0,i),this};var g=function(t,e,i,n){if(t){var a=t[e],s=t.all;a&&s&&(s=s.slice()),a&&b(a,n),s&&b(s,[e].concat(n))}return t},b=function(t,e){var i,n=-1,a=t.length,s=e[0],r=e[1],o=e[2];switch(e.length){case 0:for(;++n<a;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<a;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<a;)(i=t[n]).callback.call(i.ctx,s,r);return;case 3:for(;++n<a;)(i=t[n]).callback.call(i.ctx,s,r,o);return;default:for(;++n<a;)(i=t[n]).callback.apply(i.ctx,e);return}};d.bind=d.on,d.unbind=d.off,i.extend(e,d);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var a=i.result(this,"defaults");n=i.defaults(i.extend({},a,n),a),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,d,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var a;if("object"==typeof t?(a=t,n=e):(a={})[t]=e,n||(n={}),!this._validate(a,n))return!1;var s=n.unset,r=n.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var h in a)e=a[h],i.isEqual(c[h],e)||o.push(h),i.isEqual(u[h],e)?delete d[h]:d[h]=e,s?delete c[h]:c[h]=e;if(this.idAttribute in a&&(this.id=this.get(this.idAttribute)),!r){o.length&&(this._pending=n);for(var p=0;p<o.length;p++)this.trigger("change:"+o[p],this,c[o[p]],n)}if(l)return this;if(!r)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var a in t){var s=t[a];i.isEqual(e[a],s)||(n[a]=s)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var a=t.parse?e.parse(i,t):i;return!!e.set(a,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},U(this,t),this.sync("read",this,t)},save:function(t,e,n){var a;null==t||"object"==typeof t?(a=t,n=e):(a={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var s=n.wait;if(a&&!s){if(!this.set(a,n))return!1}else if(!this._validate(a,n))return!1;var r=this,o=n.success,l=this.attributes;n.success=function(t){r.attributes=l;var e=n.parse?r.parse(t,n):t;return s&&(e=i.extend({},a,e)),!(e&&!r.set(e,n))&&(o&&o.call(n.context,r,t,n),void r.trigger("sync",r,t,n))},U(this,n),a&&s&&(this.attributes=i.extend({},l,a));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=a);var d=this.sync(c,this,n);return this.attributes=l,d},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,a=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){a&&s(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var r=!1;return this.isNew()?i.defer(t.success):(U(this,t),r=this.sync("delete",this,t)),a||s(),r},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,_,"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},T=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,a=Array(t.length-i),s=e.length;for(n=0;n<a.length;n++)a[n]=t[n+i];for(n=0;n<s;n++)t[n+i]=e[n];for(n=0;n<a.length;n++)t[n+s+i]=a[n]};i.extend(w.prototype,d,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,C))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var a=this._removeModels(t,e);return!e.silent&&a.length&&(e.changes={added:[],merged:[],removed:a},this.trigger("update",this,e)),n?a[0]:a},set:function(t,e){if(null!=t){e=i.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var a=e.at;null!=a&&(a=+a),a>this.length&&(a=this.length),a<0&&(a+=this.length+1);var s,r,o=[],l=[],c=[],d=[],u={},h=e.add,p=e.merge,f=e.remove,m=!1,v=this.comparator&&null==a&&e.sort!==!1,g=i.isString(this.comparator)?this.comparator:null;for(r=0;r<t.length;r++){s=t[r];var b=this.get(s);if(b){if(p&&s!==b){var y=this._isModel(s)?s.attributes:s;e.parse&&(y=b.parse(y,e)),b.set(y,e),c.push(b),v&&!m&&(m=b.hasChanged(g))}u[b.cid]||(u[b.cid]=!0,o.push(b)),t[r]=b}else h&&(s=t[r]=this._prepareModel(s,e),s&&(l.push(s),this._addReference(s,e),u[s.cid]=!0,o.push(s)))}if(f){for(r=0;r<this.length;r++)s=this.models[r],u[s.cid]||d.push(s);d.length&&this._removeModels(d,e)}var _=!1,w=!v&&h&&f;if(o.length&&w?(_=this.length!==o.length||i.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,T(this.models,o,0),this.length=this.models.length):l.length&&(v&&(m=!0),T(this.models,l,null==a?this.length:a),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(r=0;r<l.length;r++)null!=a&&(e.index=a+r),s=l[r],s.trigger("add",s,this,e);(m||_)&&this.trigger("sort",this,e),(l.length||d.length||c.length)&&(e.changes={added:l,removed:d,merged:c},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var a=t.reset?"reset":"set";n[a](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var a=this,s=e.success;return e.success=function(t,e,i){n&&a.add(t,i),s&&s.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var a=this.get(t[n]);if(a){var s=this.indexOf(a);this.models.splice(s,1),this.length--,delete this._byId[a.cid];var r=this.modelId(a.attributes);null!=r&&delete this._byId[r],e.silent||(e.index=s,a.trigger("remove",a,this,e)),i.push(a),this._removeReference(a,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var a=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);a!==s&&(null!=a&&delete this._byId[a],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(w,S,"models");var k=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},I=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,d,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var a=e.match(I);this.delegate(a[1],a[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,a){var s=E[t];i.defaults(a||(a={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var r={type:s,dataType:"json"};if(a.url||(r.url=i.result(n,"url")||z()),null!=a.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(a.attrs||n.toJSON(a))),a.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),a.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){r.type="POST",a.emulateJSON&&(r.data._method=s);var o=a.beforeSend;a.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),o)return o.apply(this,arguments)}}"GET"===r.type||a.emulateJSON||(r.processData=!1);var l=a.error;a.error=function(t,e,i){a.textStatus=e,a.errorThrown=i,l&&l.call(a.context,t,e,i)};var c=a.xhr=e.ajax(i.extend(r,a));return n.trigger("request",n,c,a),c};var E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var P=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},N=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,D=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(P.prototype,d,{initialize:function(){},route:function(t,n,a){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(a=n,n=""),a||(a=this[n]);var s=this;return e.history.route(t,function(i){var r=s._extractParameters(t,i);s.execute(a,r,n)!==!1&&(s.trigger.apply(s,["route:"+n].concat(r)),s.trigger("route",n,r),e.history.trigger("route",s,n,r))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(N,"(?:$1)?").replace(L,function(t,e){return e?t:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var H=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,$=/#.*$/;H.started=!1,i.extend(H.prototype,d,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(H.started)throw new Error("Backbone.history has already been started");if(H.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,a=n.insertBefore(this.iframe,n.firstChild).contentWindow;a.document.open(),a.document.close(),a.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!H.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace($,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;e.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new H;var B=function(t,e){var n,a=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return a.apply(this,arguments)},i.extend(n,a,e),n.prototype=i.create(a.prototype,t),n.prototype.constructor=n,n.__super__=a.prototype,n};y.extend=w.extend=P.extend=k.extend=H.extend=B;var z=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(e,function(){return this}())},function(t,e,i){var n,a,s;!function(r){a=[i(20)],n=r,s="function"==typeof n?n.apply(e,a):n,!(void 0!==s&&(t.exports=s))}(function(t){function e(e,n){this.$container=t(e),this.opts=t.extend({},i,n),this.init()}var i={currentPage:1,totalPage:10,clsPrefix:"ui-",prevText:"上一页",nextText:"下一页",isShowEntire:!1,isAutoHide:!1,onSwitch:function(t){}};return e.prototype={init:function(){this.render(),this.bindEvent()},getItemHtml:function(t,e){var i=this,n=i.opts;i.opts.clsPrefix;return e=e||"default","current"==e?'<span class="current p-elem" data-mtype="store_list_fy_'+t+'" data-page="'+t+'">'+t+"</span>":"etc"==e||"etc"==t?'<span class="etc p-elem">…</span>':"total"==e||"total"==t?'<span class="p-total p-elem">共'+i.opts.totalPage+"页</span>":"prev"==e||"prev"==t?'<a class="p-prev p-elem iconfont" data-mtype="store_list_fy_prev" href="javascript:void(0);">'+n.prevText+"</a>":"prev-disable"==e||"prev-disable"==t?'<span class="p-prev disabled p-elem iconfont" data-mtype="store_list_fy_prev" href="javascript:void(0);">'+n.prevText+"</span>":"next"==e||"next"==t?'<a class="p-next p-elem iconfont" data-mtype="store_list_fy_next" href="javascript:void(0);">'+n.nextText+"</a>":"next-disable"==e||"next-disable"==t?'<span class="p-next disabled p-elem iconfont">'+n.nextText+"</span>":"goto"==e||"goto"==t?'<span class="p-elem p-item-go">第<input class="p-ipt-go">页<a class="p-btn-go" href="javascript:void(0);">GO</a></span>':'<a class="p-item p-elem" href="javascript:void(0);" data-mtype="store_list_fy_'+t+'" data-page="'+t+'">'+t+"</a>";
},render:function(){var t=this,e=t.opts,i=e.clsPrefix,n=e.totalPage,a=e.currentPage,s='<div class="'+i+'paginate">';if(s+=1==a?t.getItemHtml("prev-disable"):t.getItemHtml("prev"),n<=7)for(var r=1;r<n+1;r++)s+=a==r?t.getItemHtml(r,"current"):t.getItemHtml(r);else if(a<=3){for(var r=1;r<a;r++)s+=t.getItemHtml(r);s+=t.getItemHtml(a,"current")+t.getItemHtml(a+1)+t.getItemHtml(a+2)+t.getItemHtml("etc")+t.getItemHtml(n)}else if(a>=n-2){s+=t.getItemHtml(1)+t.getItemHtml("etc")+t.getItemHtml(a-2)+t.getItemHtml(a-1)+t.getItemHtml(a,"current");for(var r=a+1;r<n+1;r++)s+=t.getItemHtml(r)}else s+=t.getItemHtml(1),a-2>2&&(s+=t.getItemHtml("etc")),s+=t.getItemHtml(a-2)+t.getItemHtml(a-1)+t.getItemHtml(a,"current")+t.getItemHtml(a+1)+t.getItemHtml(a+2),a+2<n-1&&(s+=t.getItemHtml("etc")),s+=t.getItemHtml(n);return s+=a==n?t.getItemHtml("next-disable"):t.getItemHtml("next"),e.isShowEntire&&(s+=t.getItemHtml("total"),s+=t.getItemHtml("goto")),e.isAutoHide&&e.totalPage<=1?t.$container.hide():t.$container.show(),t.$container.append(s),t},bindEvent:function(){var e=this,i=e.$container;i.on("click",".p-item",function(i){var n=t(i.currentTarget),a=n.data("page");e.gotoPage(a),i.preventDefault()}),i.on("click",".p-prev",function(t){e.gotoPrev(),t.preventDefault()}),i.on("click",".p-next",function(t){e.gotoNext(),t.preventDefault()}),i.on("click",".p-first",function(t){e.gotoFirst(),t.preventDefault()}),i.on("click",".p-last",function(t){e.gotoLast(),t.preventDefault()});var n=function(){var t=e.$container.find(".p-ipt-go").val();e.gotoPage(t)};return i.on("click",".p-btn-go",function(t){n(),t.preventDefault()}),i.on("keyup",".p-ipt-go",function(t){13==t.keyCode&&n(),t.preventDefault()}),e},destroy:function(){try{this.$container.off("click"),this.$container.html(""),delete this}catch(t){return!1}return!0},getCurrentPage:function(){return this.opts.currentPage},show:function(){return this.$container.show(),this},hide:function(){return this.$container.show(),this},gotoPage:function(t){var e=this,i=e.opts,n=e.$container,a=i.currentPage;return!(!t||isNaN(t))&&(t=parseInt(t,10),t<1&&(t=1),t>i.totalPage&&(t=i.totalPage),t!=a&&(i.currentPage=t,n.html(""),e.render(),i.onSwitch(t)),e)},gotoNext:function(){var t=this.opts.currentPage;return this.gotoPage(t+1),this},gotoPrev:function(){var t=this.opts.currentPage;return this.gotoPage(t-1),this},gotoFirst:function(){return this.gotoPage(1),this},gotoLast:function(){return this.gotoPage(this.get("totalPage")),this},resetRender:function(t,e){return t=t||1,this.opts.currentPage=t,e&&(this.opts.totalPage=e),this.$container.empty(),this.render(),this}},t.fn.pages=function(i){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=t(this),s=a.data("pages");s||a.data("pages",s=new e(this,i)),"string"==typeof i&&s[i](n)})},e})},function(t,e,i){i(39),i(40),i(41);var n=i(47),a=i(20),s=[],r=[],o={remoteHost:{addCompare:"//detail.meizu.com"},collectBar:{hasItems:a(".tab-con .diff-items"),hasItem:a(".hasItem")},romanceList:function(){var t,e=a.cookie("MEIZU_STORE_COMPARE_IDS");e&&(t=e.split("-")),a(".goods-list-wrap").find(".compare-btn-list").each(function(){var e=a(this),i=e.parent().find("a").attr("href").split("?")[1].split("&")[0].split("=")[1];for(var n in t)i===t[n]&&(e.css("display","block"),e.parent().unbind("mouseenter").unbind("mouseleave"))})},bindEvent:function(){function t(t){if(h.collectBar.hasItems.children().eq(t).remove(),a("#barNum").text(a("#diffBar").find(".item-full").length),0===a(".tab-con").find(".item-full").length){a("#diffOperate").css("display","none");var e="";e+='<div class="compare-clear-hint">您还没有选择需要对比的商品哦～</div>',a("#tabCon").append(e)}r=c()}function e(t){a.ajax({url:h.remoteHost.addCompare+"/compare/add",type:"get",data:{skuId:u},dataType:"jsonp",jsonp:"callback"}).done(function(e){o(e,t)}).fail(function(){n.compareDia("系统繁忙，请稍后再试～","")})}function i(){var t=a(".tab-con").find(".item-full").length;if(t)a("#diffOperate").css("display","block"),a(".tab-con").find(".compare-clear-hint").remove();else{a("#diffOperate").css("display","none");var e="";e+='<div class="compare-clear-hint">您还没有选择需要对比的商品哦～</div>',a("#tabCon").append(e)}}function o(t,e){if(t.success){if(e.addClass("hasView"),s=t.data,d(),r=c(),a("#barNum").text(a("#diffBar").find(".item-full").length),i(),"lists.meizu.com"!==p||t.errorCode||e.parent().unbind("mouseenter").unbind("mouseleave"),11001===t.errorCode)n.compareDia("该商品已经添加过了哦～","");else if(11002===t.errorCode)n.compareDia("您最多只能同时对比4款商品哦～","");else if(11004===t.errorCode)n.compareDia("不能添加未启用的商品哦～",""),window.location.reload();else if(11005===t.errorCode)n.compareDia("该商品不存在哦～","");else if(11006===t.errorCode){var o=t.errorMsg,u='请选择类别为 "'+o+'" 的商品加入';n.compareDia("不同类别的产品无法加入对比哦～",u)}}else l(t)}function l(t){if(11001===t.errorCode)n.compareDia("该商品已经添加过了哦～","");else if(11002===t.errorCode)n.compareDia("您最多只能同时对比4款商品哦～","");else if(11004===t.errorCode)n.compareDia("不能添加未启用的商品哦～",""),window.location.reload();else if(11005===t.errorCode)n.compareDia("该商品不存在哦～","");else if(11006===t.errorCode){var e=t.errorMsg,i='请选择类别为 "'+e+'" 的商品加入';n.compareDia("不同类别的产品无法加入对比哦～",i)}else n.compareDia("系统繁忙，请稍后再试～","")}function c(){var t=[0,0,0,0],e=[];s.length&&s.forEach(function(t){e.push(t.skuId)});for(var i in e)t[i]=e[i];return t}function d(){var t=c(),e=0;h.collectBar.hasItems.children().remove(),s.forEach(function(i){if(e<t.length&&0!==t[e]){var n="";n+='<dl class="hasItem"><div class="item-full"><dt><a href="javascript:;"><img src="'+i.image+'" width="75" height="75"></a></dt><dd><a href="javascript:;" class="diff-item-name"><span>'+i.name+'</span></a><div class="diff-item-operate"><span class="goods-price"><small>¥ </small><span class="vm-money">'+Number(i.price).toFixed(2)+'</span></span><a href="javascript:;" class="diff-goods-delete"  data-mtype="store_public_compare_del">删除</a></div></dd></div></dl>',h.collectBar.hasItems.append(n)}e++}),2===e?a(".hasItem:gt(1)").children(".item-full").remove():3===e?a(".hasItem:gt(2)").children(".item-full").remove():4===e&&a(".hasItem:eq(4)").children(".item-full").remove()}var u,h=this,p=window.location.host;"detail.meizu.com"===p?a("#J_compare").on("click",function(){var t=a("#J_compare");if(window.livePropertyView.model.get("skuId"))u=window.livePropertyView.model.get("skuId");else{var i=window.MZ.modelData.recommend.split("+")[0];a.each(window.MZ.modelData.cspuMap,function(t){i===t&&(u=window.MZ.modelData.cspuMap[i].skuId)})}var s=c();a("#compareBar").is(":hidden")?a.ajax({url:h.remoteHost.addCompare+"/compare/view",type:"get",data:{skuId:u},dataType:"jsonp",jsonp:"callback"}).done(function(e){a("#compareBar").show(),o(e,t)}).fail(function(){n.compareDia("系统繁忙，请稍后再试～","")}):a.inArray(u,s)===-1||a("#compareBar").is(":hidden")?a.inArray(u,s)!==-1||a("#compareBar").is(":hidden")||(a("#compareBar").show(),e(t)):n.compareDia("该商品已经添加过了哦～","")}):"lists.meizu.com"===p&&(this.romanceList(),a(document).on("click",".compare-btn-list",function(){var t=a(this);u=t.parent().find("a").attr("href").split("?")[1].split("&")[0].split("=")[1];var i=c();a("#compareBar").is(":hidden")?a.ajax({url:h.remoteHost.addCompare+"/compare/view",type:"get",data:{skuId:u},dataType:"jsonp",jsonp:"callback"}).done(function(e){a("#compareBar").show(),o(e,t)}).fail(function(){n.compareDia("系统繁忙，请稍后再试～","")}):a.inArray(u,i)!==-1||a("#compareBar").is(":hidden")?a.inArray(u,i)===-1||a("#compareBar").is(":hidden")||n.compareDia("该商品已经添加过了哦～",""):(a("#compareBar").show(),e(t))})),a(".operate .hide-me").click(function(){a("#compareBar").css("display","none")}),a(document).on("click",".diff-goods-delete",function(){var e=a(this);r=c();var i=Number(e.parents(".hasItem").prevAll().length),n=r[i],o=h.remoteHost.addCompare+"/compare/del";h.ajax(o,{skuId:n},"get","jsonp").done(function(e){t(i),s=e,"lists.meizu.com"===p&&a(".goods-list-wrap").find(".compare-btn-list").each(function(t){var e=a(".goods-list-wrap").find(".compare-btn-list").eq(t),i=e.parent().find("a").attr("href").split("?")[1].split("&")[0].split("=")[1];i.toString()===n.toString()&&(e.css("display","none"),e.removeClass("hasView"),e.parent().hover(function(){e.css("display","block")},function(){e.css("display","none")}))})})}),a("#J_btnCompare").on("click",function(){a.ajax({url:h.remoteHost.addCompare+"/compare/check",type:"get",dataType:"jsonp",jsonp:"callback"}).done(function(t){if(t.success){var e=t.data,r=[];s=[];var o,l=0;e.forEach(function(t){t.status?(s[l]=t,l++):r.push(t.name)}),1===r.length?(o=r[0]+"商品不存在哦～",n.compareDia(o,"")):r.length>1&&(o=r.join(",")+"商品不存在哦～",n.compareDia(o,"")),d();var u=c();a("#barNum").text(a("#diffBar").find(".item-full").length),i();var p=a.trim(o).length,f=parseInt(p/4*1e3,10);s.length&&window.setTimeout(function(){var t=u.join("-");location.href=h.remoteHost.addCompare+"/compare/"+t+".html"},f)}else n.compareDia("系统繁忙，请稍后再试～","")}).fail(function(){n.compareDia("系统繁忙，请稍后再试～","")})}),a("#J_compareClear").on("click",function(){var t=h.remoteHost.addCompare+"/compare/delAll";h.ajax(t,null,"get","jsonp").done(function(){s=[],h.collectBar.hasItems.children().remove(),a("#diffOperate").css("display","none"),a("#barNum").text(a("#diffBar").find(".item-full").length);var t="";t+='<div class="compare-clear-hint">您还没有选择需要对比的商品哦～</div>',a("#tabCon").append(t),"lists.meizu.com"===p&&a(".goods-list-wrap").find(".compare-btn-list").each(function(t){var e=a(".goods-list-wrap").find(".compare-btn-list").eq(t);e.removeClass("hasView"),e.css("display","none"),e.parent().hover(function(){e.css("display","block")},function(){e.css("display","none")})})})})},ajax:function(t,e,i,n){var s=a.Deferred();return a.ajax({url:t,type:i||"get",data:e||null,dataType:n||"json",jonp:"callback"}).done(function(t){t.success?s.resolve(t.data):s.reject(t)}).fail(function(){s.reject("系统繁忙，请稍后再试～")}),s.promise()}};t.exports=o},function(t,e){t.exports='<div class="compare-bar" id="compareBar" style="position:fixed">\n  <div class="diff-bar" id="diffBar">\n    <div class="diff-bar-title">\n      <div class="bar-title">\n        <p>商品对比 (<span class="bar-num" id="barNum">0</span>/4)</p>\n      </div>\n      <div class="operate" data-mtype="store_public_compare_close">\n        <i class="iconfont icon-chahao hide-me"></i>\n      </div>\n    </div>\n\n    <div class="diff-bd tab-cons">\n      <div class="tab-con clearfix" id="tabCon" style="display: block">\n        <div class="diff-items" id="diffItems">\n          <!--<dl class="hasItem" >-->\n            <!--<div class="item-full">-->\n              <!--<dt>-->\n                <!--<a href="#" target="_blank">-->\n                  <!--<img src="../../image/6-plus.jpg" width="75" height="75">-->\n                <!--</a>-->\n              <!--</dt>-->\n              <!--<dd>-->\n                <!--<a href="#" class="diff-item-name">-->\n                  <!--<span>JBL T280A 立体声入耳式手机耳机</span>-->\n                <!--</a>-->\n                <!--<div class="diff-item-operate">-->\n                  <!--<span class="goods-price">-->\n                      <!--<small>¥ </small><span class="vm-money">199.00</span>-->\n                  <!--</span>-->\n                  <!--<a href="#" class="diff-goods-delete">删除</a>-->\n                <!--</div>-->\n              <!--</dd>-->\n            <!--</div>-->\n          <!--</dl>-->\n        </div>\n\n        <div class="diff-operate" id="diffOperate">\n          <a href="javascript:void(0);" id="J_btnCompare" class="btn btn-primary btn-lg" data-mtype="store_public_compare"><i></i>对比</a>\n          <a href="javascript:void(0);" id="J_compareClear" data-mtype="store_public_compare_delall">清空商品</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},1,1,,,,,,function(t,e,i){var n=i(20);i(48);var a,s,r=window.dialog;s=function(t,e,i,a){var s=n.Deferred();return n.ajax({url:t,data:e||null,type:i||"get",dataType:a||"jsonp",timeout:4e3,cache:!1}).done(function(t){t.success?s.resolve(t.data):s.reject(t)}).fail(function(){s.reject("网络异常，请稍后再试!")}),s.promise()},a=function(t,e){var i='<div class="match-dialog" id="artAlert"><div class="match-alert-bd tcenter"><div class="match-alert-message"><p class="match-alert-message-bd"><i class="iconfont icon-matach-infor Dia-icon"></i><span class="alert-message-bi">'+t+'</span></p><span class="alert-message-little">'+e+'</span></div><i class="visible"></i></div><a class="match-close" id="J_DialogClose" href="javascript:;">╳</a></div>';r.get("compareDia")&&r.get("compareDia").remove();var a=r({id:"compareDia",width:396,height:130,content:i,onshow:function(){var t=this;n(t.node).on("click",".match-close",function(){t.close().remove()})}}).show(),s=n.trim(t).length+n.trim(e).length,o=parseInt(s/4*1e3,10);setTimeout(function(){a.close().remove()},o)},t.exports={ajax:s,compareDia:a}},function(t,e,i){var n=i(20);!function(){function t(e){var n=i[e],a="exports";return"object"==typeof n?n:(n[a]||(n[a]={},n[a]=n.call(n[a],t,n[a],n)||n[a]),n[a])}function e(t,e){i[t]=e}var i={};e("jquery",function(){return n}),e("popup",function(t){function e(){this.destroyed=!1,this.__popup=i("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=i("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],n++}var i=t("jquery"),n=0,a=!("minWidth"in i("html")[0].style),s=!a;return i.extend(e.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(t){if(this.destroyed)return this;var n=this.__popup,r=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=t||this.follow,!this.__ready){if(n.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),a||i(window).on("resize",i.proxy(this.reset,this)),this.modal){var o={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||e.zIndex};n.addClass(this.className+"-modal"),s||i.extend(o,{position:"absolute",width:i(window).width()+"px",height:i(document).height()+"px"}),r.css(o).attr({tabindex:"0"}).on("focus",i.proxy(this.focus,this)),this.__mask=r.clone(!0).attr("style","").insertAfter(n),r.addClass(this.className+"-backdrop").insertBefore(n),this.__ready=!0}n.html()||n.html(this.innerHTML)}return n.addClass(this.className+"-show").show(),r.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(t){return!this.destroyed&&this.open&&(void 0!==t&&(this.returnValue=t),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),e.current===this&&(e.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),a||i(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var t in this)delete this[t];return this},reset:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var t=this.node,n=this.__popup,a=e.current,s=this.zIndex=e.zIndex++;if(a&&a!==this&&a.blur(!1),!i.contains(t,this.__getActive())){var r=n.find("[autofocus]")[0];!this._autofocus&&r?this._autofocus=!0:r=t,this.__focus(r)}return n.css("zIndex",s),e.current=this,n.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var t=this.__activeElement,e=arguments[0];return e!==!1&&this.__focus(t),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(t,e){return this.__getEventListener(t).push(e),this},removeEventListener:function(t,e){for(var i=this.__getEventListener(t),n=0;n<i.length;n++)e===i[n]&&i.splice(n--,1);return this},__getEventListener:function(t){var e=this.__listener;return e||(e=this.__listener={}),e[t]||(e[t]=[]),e[t]},__dispatchEvent:function(t){var e=this.__getEventListener(t);this["on"+t]&&this["on"+t]();for(var i=0;i<e.length;i++)e[i].call(this)},__focus:function(t){try{this.autofocus&&!/^iframe$/i.test(t.nodeName)&&t.focus()}catch(e){}},__getActive:function(){try{var t=document.activeElement,e=t.contentDocument,i=e&&e.activeElement||t;return i}catch(n){}},__center:function(){var t=this.__popup,e=i(window),n=i(document),a=this.fixed,s=a?0:n.scrollLeft(),r=a?0:n.scrollTop(),o=e.width(),l=e.height(),c=t.width(),d=t.height(),u=(o-c)/2+s,h=382*(l-d)/1e3+r,p=t[0].style;p.left=Math.max(parseInt(u),s)+"px",p.top=Math.max(parseInt(h),r)+"px"},__follow:function(t){var e=t.parentNode&&i(t),n=this.__popup;if(this.__followSkin&&n.removeClass(this.__followSkin),e){var a=e.offset();if(a.left*a.top<0)return this.__center()}var s=this,r=this.fixed,o=i(window),l=i(document),c=o.width(),d=o.height(),u=l.scrollLeft(),h=l.scrollTop(),p=n.width(),f=n.height(),m=e?e.outerWidth():0,v=e?e.outerHeight():0,g=this.__offset(t),b=g.left,y=g.top,_=r?b-u:b,w=r?y-h:y,x=r?0:u,C=r?0:h,T=x+c-p,S=C+d-f,k={},I=this.align.split(" "),A=this.className+"-",E={top:"bottom",bottom:"top",left:"right",right:"left"},P={top:"top",bottom:"top",left:"left",right:"left"},N=[{top:w-f,bottom:w+v,left:_-p,right:_+m},{top:w,bottom:w-f+v,left:_,right:_-p+m}],L={left:_+m/2-p/2,top:w+v/2-f/2},D={left:[x,T],top:[C,S]};i.each(I,function(t,e){N[t][e]>D[P[e]][1]&&(e=I[t]=E[e]),N[t][e]<D[P[e]][0]&&(I[t]=E[e])}),I[1]||(P[I[1]]="left"===P[I[0]]?"top":"left",N[1][I[1]]=L[P[I[1]]]),A+=I.join("-")+" "+this.className+"-follow",s.__followSkin=A,e&&n.addClass(A),k[P[I[0]]]=parseInt(N[0][I[0]]),k[P[I[1]]]=parseInt(N[1][I[1]]),n.css(k)},__offset:function(t){var e=t.parentNode,n=e?i(t).offset():{left:t.pageX,top:t.pageY};t=e?t:t.target;var a=t.ownerDocument,s=a.defaultView||a.parentWindow;if(s==window)return n;var r=s.frameElement,o=i(a),l=o.scrollLeft(),c=o.scrollTop(),d=i(r).offset(),u=d.left,h=d.top;return{left:n.left+u-l,top:n.top+h-c}}}),e.zIndex=1024,e.current=null,e}),e("dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),e("dialog",function(t){var e=t("jquery"),i=t("popup"),n=t("dialog-config"),a=n.cssUri;if(a){var s=t[t.toUrl?"toUrl":"resolve"];s&&(a=s(a),a='<link rel="stylesheet" href="'+a+'" />',e("base")[0]?e("base").before(a):e("head").append(a))}var r=0,o=new Date-0,l=!("minWidth"in e("html")[0].style),c="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),d=!l&&!c,u=function(t,i,n){var a=t=t||{};("string"==typeof t||1===t.nodeType)&&(t={content:t,fixed:!c}),t=e.extend(!0,{},u.defaults,t),t.original=a;var s=t.id=t.id||o+r,l=u.get(s);return l?l.focus():(d||(t.fixed=!1),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),e.isArray(t.button)||(t.button=[]),void 0!==n&&(t.cancel=n),t.cancel&&t.button.push({id:"cancel",value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay}),void 0!==i&&(t.ok=i),t.ok&&t.button.push({id:"ok",value:t.okValue,callback:t.ok,autofocus:!0}),u.list[s]=new u.create(t))},h=function(){};h.prototype=i.prototype;var p=u.prototype=new h;return u.create=function(t){var n=this;e.extend(this,new i);var a=(t.original,e(this.node).html(t.innerHTML)),s=e(this.backdrop);return this.options=t,this._popup=a,e.each(t,function(t,e){"function"==typeof n[t]?n[t](e):n[t]=e}),t.zIndex&&(i.zIndex=t.zIndex),a.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title",this.cancelValue).on("click",function(t){n._trigger("cancel"),t.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),t.quickClose&&s.on("onmousedown"in document?"mousedown":"click",function(){return n._trigger("cancel"),!1}),this.addEventListener("show",function(){s.css({opacity:0,background:t.backdropBackground}).animate({opacity:t.backdropOpacity},150)}),this._esc=function(t){var e=t.target,a=e.nodeName,s=/^input|textarea$/i,r=i.current===n,o=t.keyCode;!r||s.test(a)&&"button"!==e.type||27===o&&n._trigger("cancel")},e(document).on("keydown",this._esc),this.addEventListener("remove",function(){e(document).off("keydown",this._esc),delete u.list[this.id]}),r++,u.oncreate(this),this},u.create.prototype=p,e.extend(p,{content:function(t){var i=this._$("content");return"object"==typeof t?(t=e(t),i.empty("").append(t.show()),this.addEventListener("beforeremove",function(){e("body").append(t.hide())})):i.html(t),this.reset()},title:function(t){return this._$("title").text(t),this._$("header")[t?"show":"hide"](),this},width:function(t){return this._$("content").css("width",t),this.reset()},height:function(t){return this._$("content").css("height",t),this.reset()},button:function(t){t=t||[];var i=this,n="",a=0;return this.callbacks={},"string"==typeof t?(n=t,a++):e.each(t,function(t,s){var r=s.id=s.id||s.value,o="";i.callbacks[r]=s.callback,s.display===!1?o=' style="display:none"':a++,n+='<button type="button" i-id="'+r+'"'+o+(s.disabled?" disabled":"")+(s.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+s.value+"</button>",i._$("button").on("click","[i-id="+r+"]",function(t){var n=e(this);n.attr("disabled")||i._trigger(r),t.preventDefault()})}),this._$("button").html(n),this._$("footer")[a?"show":"hide"](),this},statusbar:function(t){return this._$("statusbar").html(t)[t?"show":"hide"](),this},_$:function(t){return this._popup.find("[i="+t+"]")},_trigger:function(t){var e=this.callbacks[t];return"function"!=typeof e||e.call(this)!==!1?this.close().remove():this}}),u.oncreate=e.noop,u.getCurrent=function(){return i.current},u.get=function(t){return void 0===t?u.list:u.list[t]},u.list={},u.defaults=n,u}),window.dialog=t("dialog")}()},function(t,e,i){var n=i(20),a={init:function(){this.classes(),this.initEvent()}};n.extend(a,{canClick:!0,initDom:{goodsList:n("#goodsListWrap")},classes:function(){n.each(this.initDom.goodsList.find("li"),function(t,e){var i=n(e),a=i.find("dl>dd");if(i.find("dl").show(),a.length>4)i.find(".j-modBtns").show(),i.find("dl").width(999999);else switch(i.find(".j-modBtns").hide(),a.length){case 1:i.find("dl").css({width:"50px",left:"75px"});break;case 2:i.find("dl").css({width:"100px",left:"50px"});break;case 3:i.find("dl").css({width:"150px",left:"25px"})}})},initEvent:function(){var t=this;this.initDom.goodsList.find(".gl-item").hover(function(){n(this).find(".compare-btn-list").css("display","block")},function(){n(this).find(".compare-btn-list").css("display","none")}),this.initDom.goodsList.find(".j-modBtns").on("click",".next",function(e){e.preventDefault(),t.sliderEvent(this,"next")}),this.initDom.goodsList.find(".j-modBtns").on("click",".prev",function(e){e.preventDefault(),t.sliderEvent(this,"prev")}),this.initDom.goodsList.find(".j-pro-wrap").on("click","dd",function(e){e.preventDefault(),t.changeDefaultImg(this)})},replaceParamVal:function(t,e,i){var n=t.replace(/(\\?|^|&|\#)skuId=([^&|^#]*)(&|$|#)/,"$1"+e+"="+i);return n},changeDefaultImg:function(t){var e=n(t),i=e.find("img")[0].src,a=e.parents("li").find("a"),s=a.attr("href"),r=e.data("skuid")+"&",o=this.replaceParamVal(s,"skuId",r);i=i.replace("120x120","240x240"),e.parents("li").find(".j-modProduct").attr("src",i),e.siblings("dd").removeClass("active"),e.addClass("active"),a.attr("href",o)},sliderEvent:function(t,e){var i=this,a=n(t),s=parseInt(a.parents("li.gl-item").data("init"),10),r=a.parent(".j-modBtns").siblings(".j-pro-wrap"),o=parseInt(r.find("dl").css("left"),10),l=r.find("dd").length;if(i.canClick)if(i.canClick=!1,setTimeout(function(){i.canClick=!0},500),"next"===e){if(a.siblings(".prev").removeClass("disabled"),50*l-200<=200&&a.addClass("disabled"),Math.abs(o)+200>=50*l)return!1;s++,a.parents("li.gl-item").data("init",s),r.find("dl").stop().animate({left:200*-s},300)}else{if(a.siblings(".next").removeClass("disabled"),50*l-200<=200&&a.addClass("disabled"),0==Math.abs(o))return!1;s--,a.parents("li.gl-item").data("init",s),r.find("dl").stop().animate({left:200*-s},300)}}}),a.init(),t.exports={init:function(){a.init()}}},function(t,e){t.exports='<% for(var i = 0, length = items.length; i < length; i++) { %>\n  <li class="gl-item" data-init="0">\n    <% if (items[i].compare == 1) { %>\n    <div class="compare-btn-list" data-mtype="store_list_kw_<%=(i+1) %>_compare">\n      <i class="iconfont icon-duibi compare-duibi"></i>\n      <span>对比</span>\n    </div>\n    <% } %>\n    <a data-mtype="store_list_kw_<%=(i+1) %>" target="_blank" href="http://detail.meizu.com/item/<%= items[i].itemNumber %>.html?skuId=<% if(items[i].colorSkuIds) { %><%= items[i].colorSkuIds[0] %><%} else { %>null<% } %>&click=store_list_kw_<%=(i+1) %>"\n      title="<%= items[i].name %>">\n      <div class="gl-item-wrap">\n\n        <% if (items[i].displayTag == 1) { %>\n          <span class="sale-sign" style="background-color: <%= items[i].tagColor %>"><%= items[i].tag %></span>\n          <% } %>\n            <div class="mod-pic">\n              <img width="220" height="220" class="j-modProduct" src="<% if (items[i].colorImageUrls) { %><%=items[i].colorImageUrls[0] %><%} else { %><%= items[i].imageUrl %><% } %>@240x240.png">\n            </div>\n\n            <div class="item-slide j-pro-wrap">\n              <dl>\n                <% if (!items[i].colorImageUrls) { %>\n                  <dd class="active" data-skuid="null" data-mtype="store_list_kw_<%=(i+1) %>_clr_1">\n                    <img width="40" height="40" src="<%= items[i].imageUrl %>@120x120.jpg">\n                  </dd>\n                  <% } else { %>\n                    <% for(var k = 0, l = items[i].colorImageUrls.length; k < l; k++) { %>\n                      <dd class="<% if (k === 0) { %>active<% } %>" data-skuid="<%= items[i].colorSkuIds[k] %>" data-mtype="store_list_kw_<%=(i+1) %>_clr_<%=(k+1) %>">\n                        <img width="40" height="40" src="<%= items[i].colorImageUrls[k] %>@120x120.jpg">\n                      </dd>\n                      <% } %>\n                        <% } %>\n              </dl>\n            </div>\n\n\n\n            <div class="slide-btn j-modBtns">\n              <span class="prev iconfont disabled" data-mtype="store_list_kw_<%=(i+1) %>_clr_l">&#xe65b;</span>\n              <span class="next iconfont" data-mtype="store_list_kw_<%=(i+1) %>_clr_r">&#xe659;</span>\n            </div>\n\n            <h2>\n              <%= items[i].name %>\n            </h2>\n\n            <% if (items[i].titleColor == 2) { %>\n              <h3 class="red" title="<%= items[i].title %>">\n                <% if (items[i].displaySellingTag==1) { %>\n                  <span><%= items[i].sellingTag %></span>\n                  <% } %>\n                    <%= items[i].title %>\n              </h3>\n              <% } else { %>\n                <h3 title="<%= items[i].title %>">\n                  <% if (items[i].displaySellingTag==1) { %>\n                    <span><%= items[i].sellingTag %></span>\n                    <% } %>\n                      <%= items[i].title %>\n                </h3>\n                <% } %>\n\n                  <div class="mod-price">\n                    <% if (items[i].discountFlag) { %>\n                      <span class="vm-coupon">限时特惠</span>\n                      <% } %>\n                        <em>￥</em>\n                        <span class="vm-price"><%= items[i].minPrice %></span>\n                        <% if (items[i].startPriceFlag) { %>\n                          <span class="vm-start">起</span>\n                          <% } %>\n                  </div>\n      </div>\n    </a>\n  </li>\n  <% } %>\n'},function(t,e){t.exports='<% if( data.sub && data.sub.length) { %>\n  <div class="sl-line-wrap">\n    <div class="mod-key">\n      <%=data.text %>：</div>\n    <div class="mod-value">\n      <div class="mod-value-list">\n        <ul>\n          <% for(var i = 0, length = data.sub.length; i < length; i++) { %>\n            <li class="<% if (data.currentKey === data.sub[i].value) {%>active <%} %>">\n              <a data-value="<%=data.sub[i].value %>" data-tag="<%= data.sub[i].tag %>" data-mtype="store_list_fl_<%=(i+1) %>" href="javascript:void(0)" title="<%= data.sub[i].text %>">\n                <%= data.sub[i].text %>\n              </a>\n            </li>\n            <% } %>\n        </ul>\n      </div>\n    </div>\n    <div class="mod-ext">\n      <a class="sl-e-more J_extMore" href="javascript:;" data-mtype="store_list_fl_more_<%=(i+1) %>" style="<% if(length > 8) { %>visibility: visible;<% } %>">更多<i></i></a>\n    </div>\n  </div>\n  <% } %>'},function(t,e){t.exports='<% for(var i = 0, length = items.length; i < length; i++) { %>\n  <div class="sl-line-wrap">\n    <div class="mod-key"><span><%= items[i].text %>：</span></div>\n    <div class="mod-value">\n      <div class="mod-value-list">\n        <ul>\n          <% if(items[i].showAll) { %>\n            <li class="vm-all">\n              <a data-mtype="store_list_xf_<%=(i+1) %>_all" data-value="<%=items[i].full %>" href="javascript:void(0)" title="全部">全部</a>\n            </li>\n            <% } %>\n              <% for(var j = 0, length2 = items[i].sub.length; j < length2; j++) { %>\n                <li>\n                  <a data-mtype="store_list_xf_<%=(i+1) %>_<%=(j+1) %>" data-value="<%=items[i].sub[j].value  %>" href="javascript:void(0)" title="<%= items[i].sub[j].text %>">\n                    <%= items[i].sub[j].text %>\n                  </a>\n                </li>\n                <% } %>\n        </ul>\n      </div>\n    </div>\n    <div class="mod-ext">\n      <a class="sl-e-more J_extMore" href="javascript:;" data-mtype="store_list_xf_<%=(i+1) %>_more" style="<% if(length2 > 7) { %>visibility: visible;<% } %>">更多<i></i></a>\n    </div>\n  </div>\n  <% } %>'},function(t,e){t.exports='<% if( data.adShowTag == 1 ) { %>\n  <% for(var i = 0, length = data.saleCatAdList.length; i < length; i++) { %>\n    <div class="brand-banner">\n      <% if( data.saleCatAdList[i].linkAddress == \'\' ) { %>\n        <% if( data.saleCatAdList[i].type == 0 ) { %>\n          <img width="1240" height="180" src="<%= data.saleCatAdList[i].pcImgUrl %>">\n          <% } else { %>\n            <h1>品牌介绍</h1>\n            <div class="doc">\n              <div>\n                <%= data.saleCatAdList[i].wordContent %>\n              </div>\n            </div>\n            <% } %>\n              <% } else { %>\n                <a href="<%= data.saleCatAdList[i].linkAddress %>?click=store_list_banner_<%= i+1 %>"  target="_blank" data-mtype="store_list_banner_<%= i+1 %>">\n                  <% if( data.saleCatAdList[i].type == 0 ) { %>\n                    <img width="1240" height="180" src="<%= data.saleCatAdList[i].pcImgUrl %>">\n                    <% } else { %>\n                      <h1>品牌介绍</h1>\n                      <div class="doc">\n                        <div>\n                          <%= data.saleCatAdList[i].wordContent %>\n                        </div>\n                      </div>\n                      <% } %>\n                </a>\n                <% } %>\n    </div>\n    <% } %>\n      <% } %>\n        <% if( data.adShowTag == 2 ) { %>\n          <div class="intro">\n            <% for(var i = 0, length = data.saleCatAdList.length; i < length; i++) { %>\n              <div class="half fl <% if( data.saleCatAdList[i].type == 1 ) { %>text<% } %>">\n                <% if( data.saleCatAdList[i].linkAddress == \'\' ) { %>\n                  <% if( data.saleCatAdList[i].type == 0 ) { %>\n                    <img width="1240" height="180" src="<%= data.saleCatAdList[i].pcImgUrl %>">\n                    <% } else { %>\n                      <h1>品牌介绍</h1>\n                      <div class="doc">\n                        <div>\n                          <%= data.saleCatAdList[i].wordContent %>\n                        </div>\n                      </div>\n                      <% } %>\n                        <% } else { %>\n                          <a href="<%= data.saleCatAdList[i].linkAddress %>?click=store_list_banner_<%= i+2 %>"  target="_blank" data-mtype="store_list_banner_<%= i+2 %>">\n                            <% if( data.saleCatAdList[i].type == 0 ) { %>\n                              <img width="1240" height="180" src="<%= data.saleCatAdList[i].pcImgUrl %>">\n                              <% } else { %>\n                                <h1>品牌介绍</h1>\n                                <div class="doc">\n                                  <div>\n                                    <%= data.saleCatAdList[i].wordContent %>\n                                      <div>\n                                      </div>\n                                      <% } %>\n                          </a>\n                          <% } %>\n                            </div>\n                            <% } %>\n                              </div>\n                              <% } %>';
},function(t,e){t.exports='<h2>更多品牌</h2>\n<div class="brand-list clearfix">\n  <ul>\n    <% for(var i = 0, length = data.length; i < length; i++) { %>\n      <li>\n        <a href="<%= data[i].targetUrl%>?click=store_list_brands_<%= (i+1) %>" target="_blank" data-mtype="store_list_brands_<%= (i+1) %>">\n          <img src="<%= data[i].picUrl%>">\n        </a>\n      </li>\n      <% } %>\n  </ul>\n</div>'},function(t,e){t.exports='<% for(var i = 0, length = data.length; i < length; i++) { %>\n  <a href="<%= data[i].targetUrl %>?click=store_list_bottomad" target="_blank" data-mtype="store_list_bottomad">\n    <img width="1240" height="120" src="<%= data[i].picUrl %>">\n  </a>\n  <% } %>\n'},function(t,e,i){i(57);var n=i(20);n("#J_recommendSlider").flexslider({animation:"slide",selector:".recommend-slider-wrap > .rs-item",customDirectionNav:n("#recommendDirectionNav a"),animationLoop:!1,slideshow:!1,itemWidth:245,itemMargin:5,minItems:1,maxItems:5,controlNav:!1})},1,function(t,e,i){var n,a,s;!function(r){a=[i(20)],n=r,s="function"==typeof n?n.apply(e,a):n,!(void 0!==s&&(t.exports=s))}(function(t){t.extend(t.easing,{easeOutCubic:function(t,e,i,n,a){return n*((e=e/a-1)*e*e+1)+i}});var e={speed:0,smartShow:!0,smartHeight:200,scrollTo:0,container:null},i=function(i){this.opts=t.extend({},e,i),this.init()};return i.prototype={init:function(){var e=this,i=e.opts;e.$container=t(i.container?container:document),e.$conBody=e.render(),e.opts.smartShow&&e.autoShow(),e.bindEvent()},bindEvent:function(){var t=this;t.$conBody.on("click",".gotop-arrow",function(){t.goTop()})},goTop:function(){var e=this,i=e.opts,n=i.speed,a=i.scrollTo;t.isNumeric(n)?t("html,body").animate({scrollTop:a},n,"easeOutCubic"):"string"==typeof a&&e.$container.scrollTop(t(i.scrollTo).offset().top)},autoShow:function(){var e,i=this,n=i.$container,a=i.$conBody,s=n.width(),r=this.opts.smartHeight;s<1240&&t("siteGotop").css({left:"initial",right:10,marginLeft:0}),n.scrollTop()>r&&a.fadeIn(300),n.on("scroll",function(){i.timer&&(clearTimeout(i.timer),e=null),i.timer=setTimeout(function(){n.scrollTop()>r?a.fadeIn():a.fadeOut("fast")},100)})},render:function(){var e=this,i='<div class="site-gotop" id="siteGotop"><a class="gotop-suggest" title="建议反馈" href="//me.meizu.com/member/advice/index" target="_blank"></a><div class="gotop-arrow" title="回到顶部"></div></div>',n=".site-gotop{position:fixed;width:44px;bottom:50px;left:50%;margin-left:640px;display:none}.gotop-suggest,.gotop-arrow{display:inline-block;width:44px;height:44px;background:#b4b4b4 no-repeat 50%50%;cursor:pointer}.gotop-suggest{background-image:url(//store.res.meizu.com/resources/php/store/static/detail/assets/img/suggest.png)}.gotop-arrow{background-image:url(//store.res.meizu.com/resources/php/store/static/detail/assets/img/gotop-arrow.png);margin-top:5px}";return e.createStyle(n),t(i).appendTo("body")},createStyle:function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)},destroy:function(){this.$container.off("scroll.scrollfix")}},i})}]));